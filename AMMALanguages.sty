\def\filedate{2006/05/16}
\def\fileversion{1.02}
\ProvidesPackage{AMMALanguages}
             [\filedate\space\fileversion\space(Davide Di Ruscio and Frédéric Jouault)]
\typeout{}
\typeout{----------------------}
\typeout{AMMA Languages Formatting Package}
\typeout{----------------------}
\typeout{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\usepackage{listings}
\usepackage{color}
%\usepackage{times}

\newcommand{\KeywordsATL}{\lstset{keywords={}}}



\definecolor{gray}{rgb}{0.9,0.9,0.9}
\definecolor{blue}{rgb}{0,0,0.5}

 \lstset{
%   backgroundcolor=\color{gray},
%   breaklines=true,
%   frame=single,
   framerule=0pt,
%   language=,
   numbers=right,
%   numbersep=5pt,
%   showspaces=false,
%   showtabs=false,
%   tabsize=4,
%   basicstyle=\ttfamily\scriptsize,
%   commentstyle=\ttfamily\itshape,
%   identifierstyle=\ttfamily\scriptsize\bfseries,
%   numberstyle=\ttfamily\tiny,
 }



\definecolor{keywordColor}{rgb}{0, 0, 0}
\definecolor{backgroundcolor}{rgb}{0.97,0.97,0.97}
\definecolor{commentColor}{rgb}{0.2,0.2,0.2}
\definecolor{emphColor}{rgb}{0, 0, 0.5}
\definecolor{numberColor}{rgb}{0, 0, 0}
  %[breaklines,mathescape,rulesepcolor=\color{black}]
  
  \lstset{escapeinside={/*@}{@*/}}
\definecolor{codebackground}{rgb}{0.97, 0.97, 0.97}
\lstset{backgroundcolor=\color{codebackground}}

\lstdefinestyle{AMMA}{
    backgroundcolor=\color{backgroundcolor},
    breaklines=true,
    frame=single,
    framerule=0pt,
    numbers=left,
    numbersep=1pt,
    showspaces=false,
    showtabs=false,
    commentstyle=\itshape,
    identifierstyle=\scriptsize,
    numberstyle=\tiny,
    basicstyle=\scriptsize\ttfamily,
	%basicstyle=\ttfamily\scriptsize,
%   keywordstyle=\scriptsize\bfseries,
    keywordstyle=\color{keywordColor}\scriptsize\bfseries,
    stringstyle=\color{blue}\ttfamily,
    commentstyle=\color{commentColor}\ttfamily,
    emphstyle=\emph\ttfamily\color{emphColor},
    numberstyle=\color{numberColor},
    tabsize=1,
    frame=,
    breaklines=true,
%   postbreak={(*@$\hookrightarrow$@*)},
%   postbreak={(*@$\nearrow$@*)},
%   postbreak=\mbox{{\color{red}\tiny$\rightarrow$}},
%     postbreak=\mbox{{\color{red}\tiny$\hookrightarrow$}},
}

\lstdefinestyle{PSEUDO}{
    breaklines=true,
    frame=single,
    framerule=0pt,
    numbers=left,
    numbersep=1pt,
    showspaces=false,
    showtabs=false,
    commentstyle=\itshape,
    identifierstyle=\scriptsize,
    numberstyle=\tiny,
    backgroundcolor=\color{gray},
    basicstyle=\scriptsize\ttfamily,
	%basicstyle=\ttfamily\scriptsize,
%   keywordstyle=\scriptsize\bfseries,
    keywordstyle=\color{keywordColor}\scriptsize\bfseries,
    stringstyle=\color{blue}\ttfamily,
    commentstyle=\color{commentColor}\ttfamily,
    emphstyle=\emph\ttfamily\color{emphColor},
    numberstyle=\color{numberColor},
    tabsize=1,
    frame=,
    breaklines=true,
%   postbreak={(*@$\hookrightarrow$@*)},
%   postbreak={(*@$\nearrow$@*)},
%   postbreak=\mbox{{\color{red}\tiny$\rightarrow$}},
%     postbreak=\mbox{{\color{red}\tiny$\hookrightarrow$}},
}

\lstdefinestyle{java}{
	language=Java,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle={\footnotesize\ttfamily},
	numberstyle={\tiny},
	numbers=left,
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=3
}

\lstdefinestyle{INLINE}{
	backgroundcolor=\color{white},
    breaklines=true,
    frame=single,
    framerule=0pt,
    numbers=left,
    numbersep=1pt,
    showspaces=false,
    showtabs=false,
    commentstyle=\itshape,
    identifierstyle=\scriptsize,
    numberstyle=\tiny,
    backgroundcolor=\color{gray},
    basicstyle=\ttfamily,
%   keywordstyle=\scriptsize\bfseries,
    keywordstyle=\bfseries,
    stringstyle=\color{blue}\ttfamily,
    commentstyle=\color{commentColor}\ttfamily,
    emphstyle=\emph\ttfamily\color{emphColor},
    numberstyle=\color{numberColor},
    tabsize=1,
    frame=,
    breaklines=true,
%   postbreak={(*@$\hookrightarrow$@*)},
%   postbreak={(*@$\nearrow$@*)},
%   postbreak=\mbox{{\color{red}\tiny$\rightarrow$}},
%     postbreak=\mbox{{\color{red}\tiny$\hookrightarrow$}},
}

\lstdefinelanguage{TCS}{
        morekeywords={main,template,isDefined,addToContext,primitiveTemplate,for,default,using,context},
        morekeywords={operators,priority,operatorTemplate,source,storeOpTo,storeRightTo},
        morekeywords={symbols,leftSpace,rightSpace,leftNone,rightNone},
        morekeywords={nbNL,indentIncr},
        morekeywords={as,refersTo,separator},
        sensitive=true,
        morecomment=[l]{--},
        morestring=[b]",
}

\lstdefinelanguage{KM3}{
        morekeywords={package,class,oppositeOf,container,ordered,abstract,extends,reference,attribute,enumeration,literal,datatype},
        emph={Boolean,Integer,String},
        sensitive=true,
        morecomment=[l]{--},
        morestring=[b]",
}

\lstdefinelanguage{ATL}{
        morekeywords={rule,module,from,to,create,uses,extends,module,create,from,rule,to,and,not,if,then,helper,endif,else,context,def,using,do},
        emph={Boolean,Integer,String,Sequence},
        sensitive=true,
        morecomment=[l]{--},
        morestring=[b]',
		keywordstyle=\color{violet}\sffamily,
}

\lstdefinelanguage{ANTLR}{
        morekeywords={},
% we use emph for (some) terminals
        emph={LCURLY,RCURLY,NAME},
        sensitive=true,
        morecomment=[l]{//},
        morestring=[b]",
}

\lstdefinelanguage{SPL}{
        morekeywords={service,processing,registration,return,forward,incoming},
        emph={uri,response},
        sensitive=true,
        morecomment=[l]{//},
        morestring=[b]',
}

\lstdefinelanguage{XASM}{
        morekeywords={asm,endasm,is,choose,in,do,forall,and,or,then,endchoose,enddo,if,endif,then,else,universes,universe,function,exists,not,extend,endextend,with,init,endinit},
        emph={Boolean,Integer,String,Sequence},
        sensitive=true,
        morecomment=[l]{--},
        morestring=[b]',
}



\lstdefinelanguage{EMFMigrate}{
        morekeywords={set,migration,metamodel,where,rule,and,this,comment,or,library,forall,in,include,migrate,with,createRule,replaces,refines,if,then,endif,super,changePackage,changeClass,changeAttribute,addPackage,addClass,addAttribute,deletePackage,deleteClass,deleteAttribute,addReference,deletedReference,changeReference},
        emph={Boolean,Integer,String,Sequence,true,false},
        sensitive=true,
        morecomment=[l]{--},
        morestring=[b]',
        	keywordstyle=\color{violet}\sffamily,
}

\lstdefinelanguage{EDelta}{
        morekeywords={set,use,
        as,ecoreref,class,def,change,deleteReference,addReference,val,metamodel,package,changeEClass,createEClass,createEAttribute,
        createEReference,type,in,extends,newName,% Xbase keywords follow
        boolean,break,byte,case,catch,char,%
        do,double,else,finally,%
        float,for,if,import,instanceof,int,%
        long,new,null,return,%
        short,super,switch,synchronized,this,throw,%
        try,void,while,true,false,val,var,it,%
        }, emph={Boolean,Integer,String,Sequence,true,false}, sensitive=true,
        morecomment=[l]{//},
        morestring=[b]',
        keywordstyle=\color{violet}\sffamily,
}

\lstdefinelanguage{ETL}{
        morekeywords={where,rule,and,this,comment,or,transform,with,if,operation,then,endif,super,return,to},
        emph={Boolean,Integer,String,Sequence,true,false},
        sensitive=true,
        morecomment=[l]{--},
        morestring=[b]',
}

\lstdefinelanguage{EPL}{
        morekeywords={pattern,match,includes,and,or},
        emph={Boolean,Integer,String,Sequence,true,false},
        sensitive=true,
        morecomment=[l]{--},
        morestring=[b]',
}


\lstdefinelanguage{PseudoCode}{
        morekeywords={Foreach,If,in,new,Map},
        emph={Boolean,Integer,String,Sequence,true,false},
        sensitive=true,
        morecomment=[l]{--},
        morestring=[b]',
}

\lstdefinelanguage{Xtext}{
 morekeywords={grammar, with, hidden, generate, as, import, returns, current, terminal, enum},
 keywordstyle=[2]{\textbf},
 morecomment=[l]{//}, 
 morecomment=[s]{/*}{*/}, 
 morestring=[b]",
 tabsize=4}
 
\newcommand{\lstXtext}[1]{\lstinline[breaklines=true,language=Xtext,basicstyle=\listingsfontinline,mathescape,literate={\-}{}{0\discretionary{-}{}{}}]\S#1\S}

\endinput
